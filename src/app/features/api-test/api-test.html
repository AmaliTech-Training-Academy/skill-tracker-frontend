<div class="register-container">
  <div class="register-card">
    
    <header class="card-header">
      <h1>SkillBoost - Create Account</h1>
    </header>

    <div class="card-content">
      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">

        <div class="form-group full-width">
          <label for="email-input">Email</label>
          <input 
            id="email-input"
            type="email" 
            formControlName="email" 
            placeholder="e.g., patrick@skillboost.io" 
            required
            class="form-control"
          >
          
          @if ($any(email).touched) {
            @if (email?.hasError('required')) {
              <p class="error-message">Email is required.</p>
            }

            @if (email?.hasError('email')) {
              <p class="error-message">Must be a valid email format.</p>
            }

            @if (email?.hasError('apiError')) {
              <p class="error-message api-error">
                {{ $any(email).getError('apiError') }}
              </p>
            }
          }
        </div>

        <div class="form-group full-width">
          <label for="password-input">Password</label>
          <input 
            id="password-input"
            type="password" 
            formControlName="password" 
            required
            class="form-control"
          >
          
          @if ($any(password).touched) {
            @if (password?.hasError('required')) {
              <p class="error-message">Password is required.</p>
            }

            @if (password?.errors) {
              @if (password?.hasError('length')) {
                <p class="error-message">Must be 8-64 characters long.</p>
              }
              @if (password?.hasError('uppercase')) {
                <p class="error-message">Must contain at least one uppercase letter (A-Z).</p>
              }
              @if (password?.hasError('lowercase')) {
                <p class="error-message">Must contain at least one lowercase letter (a-z).</p>
              }
              @if (password?.hasError('number')) {
                <p class="error-message">Must contain at least one number (0-9).</p>
              }
              @if (password?.hasError('specialChar')) {
                <p class="error-message">Must contain one special character (@$!%*?&).</p>
              }
            }

            @if (password?.hasError('apiError')) {
              <p class="error-message api-error">
                {{ $any(password).getError('apiError') }}
              </p>
            }
          }
        </div>

        <button 
          type="submit" 
          [disabled]="registerForm.invalid || isLoading()"
          class="submit-button full-width"
        >
          @if (!isLoading()) {
            <span>Register and Verify Email</span>
          } @else {
            <span class="loading-indicator">Processing...</span>
          }
        </button>
      </form>
    </div>

    <div class="card-actions login-link">
      Already have an account? <a [routerLink]="['/login']">Sign In</a>
    </div>
  </div>
</div>